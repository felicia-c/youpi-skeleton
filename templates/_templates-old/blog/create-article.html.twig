{% extends 'base.html.twig' %}
{% block title %}Nouvel article{% endblock %}
{% block body %}

    <div class="row form-create-block">
        {%  if edit is defined %}
            <h2>Modifier</h2>
        {% else %}
            <h2>Nouvel article</h2>
        {% endif %}
        {{ form_start(form) }}
        <div class="input-field">
            {{ form_widget(form.title) }}
            <label for="article_title">{{ form_label(form.title) }}</label>
            <span class="helper-text" data-error="Champ obligatoire"></span>
        </div>
        <div class="input-field">
            <label for="article_date">{{ form_label(form.createdDate) }}</label>
            {{ form_widget(form.createdDate) }}
            <span class="helper-text" data-error="Veuillez entrer un date valide"></span>
        </div>
        <div class="input-field">
            {{ form_widget(form.intro) }}
            <label for="article-intro">Introduction</label>
            <span class="helper-text" data-error="Champ obligatoire"></span>
        </div>
        <div class="input-field">
            {{ form_widget(form.text) }}
            <label for="article-text">Texte</label>
            <span class="helper-text" data-error="Champ obligatoire"></span>
        </div>
        <div class="input-field">
            {{ form_widget(form.link) }}
            <label for="article_link">{{ form_label(form.link) }}</label>
            <span class="helper-text" data-error="Champ obligatoire"></span>
        </div>
        {% if image is defined %}
            <div>
                <small>image actuelle</small>
                <br>
                <img class="" width="100px" height="auto" src="{{ asset('uploads/' ~ image) }}">
            </div>
        {% endif %}
        <div class="input-field file-field">
            <div class="btn">
                <small>image</small>
                {{ form_widget(form.image) }}
            </div>
            <div class="file-path-wrapper">
                <input class="file-path validate" type="text">
            </div>
        </div>
        <div class="input-field">
            <button type="submit" class="btn btn-secondary btn-large btn-submit waves-effect waves-light">{{ button_text }}<i class="material-icons right">keyboard_arrow_right</i></button>
        </div>
        {{ form_end(form) }}
    </div>

{% endblock %}